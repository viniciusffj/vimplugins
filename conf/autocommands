augroup filetype_vim
	autocmd!
	autocmd FileType vim setlocal foldmethod=marker
augroup END

augroup git_commit_message
	autocmd!
	autocmd BufReadPre */COMMIT_EDITMSG setlocal spell spelllang=en
				\| setlocal textwidth=0
				\| iabbrev <buffer> Gbnm <C-r>=system("git branch --no-color \| grep --color=never '*' \| sed -e 's/[^A-Za-z0-9-]//g'")<CR><Up><End>
				\| iabbrev <buffer> Pnm (Erick Pintor /)<Left>
				\| iabbrev <buffer> wipp (WIP)
				\| startinsert!
augroup END

augroup email_messages
	autocmd!
	autocmd FileType mail setlocal syntax=mail enc=utf-8 spell spelllang=en
				\| let &colorcolumn=join(range(&textwidth + 1, 999), ',')
				\| iabbrev <buffer> Psig ---<CR>Erick Pintor <erickpintor@gmail.com><CR>Consultant / Developer
				\| iabbrev <buffer> Tsig ---<CR>Erick Pintor <erickpintor@thoughtworks.com><CR>Consultant / Developer @ ThoughtWorks Brazil
				\| iabbrev <buffer> Pnm Erick Pintor and paring.<C-o>F<Space>
				\| Limelight
				\| execute "normal! O"
				\| startinsert!
augroup END

augroup define_colorcolumn
	autocmd!

	function! s:DefineLocalColorColumn()
		let colorRange = range(151, 999)
		if &textwidth > 0
			colorRange = range(&textwidth + 1, 999)
		endif

		let &colorcolumn = join(colorRange, ',')
	endfunction

	autocmd BufReadPre * call <SID>DefineLocalColorColumn()
augroup END
" vim: ft=vim
